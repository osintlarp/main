<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VAUL3T - Connect Telegram</title>
<style>
* {margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;}
body {background-color:#0a0a0a;color:#fff;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;}
.container {text-align:center;}
.title {font-size:48px;font-weight:700;letter-spacing:2px;margin-bottom:40px;color:#fff;}
.connect-button {padding:16px 40px;background-color:#fff;color:#0a0a0a;border:none;border-radius:25px;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.3s ease;}
.connect-button:hover {background-color:#f0f0f0;transform:translateY(-2px);box-shadow:0 5px 15px rgba(255,255,255,0.1);}
.connect-button:active {transform:translateY(0);}
</style>
</head>
<body>
<div class="container">
<h1 class="title">VAUL3T</h1>
<button class="connect-button" id="connectBtn">Connect Account</button>
</div>

<script>
document.getElementById("connectBtn").onclick = async () => {
    const params = new URLSearchParams(window.location.search);
    const sha = params.get("sha");
    const provider = params.get("provider");

    const sessionToken = localStorage.getItem("sessionToken");
    if (!sessionToken) {
        window.location.href = "/login";
        return;
    }

    const res = await fetch("/connect/account", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            sha: sha,
            provider: provider,
            sessionToken: sessionToken
        })
    });

    const data = await res.json();
    alert(data.message || "Connected");
};
</script>

</body>
</html>
